# 使用说明

## 问题修复总结

### ✅ 已修复的问题

1. **esbuild 运行出错** - 已修复 Vite 配置
2. **获取账单失败** - 已修复 API 响应格式解析
3. **AI反馈失败** - 已修复响应格式和内容显示
4. **3个用户登录** - 已实现登录功能和用户创建
5. **社群打不开** - 已修复 API 响应格式

## 快速启动

### 1. 创建测试用户（可选）

如果数据库中还没有用户，运行：

```bash
python create_users.py
```

将创建或更新3个测试用户：
- **user1** / demo123
- **user2** / demo123
- **user3** / demo123

### 2. 启动后端

```bash
python run_server.py
```

后端将在 `http://localhost:8000` 启动

### 3. 启动前端

```bash
cd frontend
npm install  # 首次需要
npm run dev
```

前端将在 `http://localhost:3000` 启动

## 登录步骤

1. 打开浏览器访问 `http://localhost:3000`
2. 点击右上角 **"登录"** 按钮
3. 输入用户名和密码：
   - 用户名：`user1` / `user2` / `user3`
   - 密码：`demo123`
4. 点击登录按钮

## 功能测试

### ✅ 账单管理
- 访问 `/bills` 查看账单列表
- 可以添加、查看、删除账单
- 支持上传发票图片

### ✅ AI助手
- 访问 `/ai-assistant`
- 可以输入自然语言查询，如：
  - "今日消费分析"
  - "消费趋势分析"
  - "好商家推荐"
  - "消费预警"

### ✅ 消费分析
- 访问 `/analysis`
- 查看分类分析、趋势分析、雷达图等

### ✅ 金融产品推荐
- 访问 `/recommendations`
- 查看推荐的金融产品，包含推荐理由和风险提示

### ✅ 社区
- 访问 `/community`
- 可以发布帖子、点赞、评论

## 注意事项

1. **后端必须先启动**：前端依赖后端 API 服务
2. **数据库初始化**：首次运行会自动创建数据库表
3. **用户创建**：如果登录失败，运行 `python create_users.py` 创建用户
4. **端口冲突**：确保 8000 和 3000 端口未被占用

## 常见问题

### Q: 登录失败怎么办？
A: 运行 `python create_users.py` 创建或更新用户信息

### Q: API 请求失败？
A: 确保后端服务正在运行（`http://localhost:8000`）

### Q: 前端页面空白？
A: 检查浏览器控制台错误，确保后端服务正常

### Q: esbuild 错误？
A: 已修复，如果仍出现，尝试：
```bash
cd frontend
rm -rf node_modules
npm install
npm run dev
```


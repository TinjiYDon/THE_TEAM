# 🚀 快速启动和测试指南

## 📋 启动步骤

### 第一步：启动后端服务器

打开终端（PowerShell或命令提示符），运行：

```bash
python run_server.py
```

**预期输出**：
```
启动账单查询与管理系统...
服务器地址: http://0.0.0.0:8000
API文档: http://0.0.0.0:8000/docs
INFO:     Started server process
INFO:     Waiting for application startup.
INFO:     Application startup complete.
```

**重要**：保持此终端窗口运行，不要关闭。

### 第二步：验证服务器启动

打开新终端窗口，运行测试：

```bash
python run_complete_test.py
```

**预期结果**：
```
测试完成: 12/12 通过
✅ 所有API测试通过！系统运行正常。
```

### 第三步：启动前端服务（可选）

如果需要测试前端界面：

```bash
cd frontend
npm run dev
```

前端服务启动后访问：http://localhost:3000

## 🧪 快速测试

### 方法1：运行完整测试（推荐）
```bash
python run_complete_test.py
```

### 方法2：运行简单测试
```bash
python test_features_fixed.py
```

### 方法3：测试特定API
```bash
python test_specific_apis.py
```

## ✅ 测试清单

### 后端API测试（12项）
- [ ] 健康检查
- [ ] 账单列表
- [ ] 消费汇总
- [ ] 商家推荐
- [ ] AI今日消费分析
- [ ] AI消费趋势分析
- [ ] AI好商家推荐
- [ ] 金融产品推荐
- [ ] 社区帖子列表
- [ ] 预算列表
- [ ] 预算预警
- [ ] 大额交易检测

### 前端功能测试（7项）
- [ ] 前端页面可访问
- [ ] 登录功能正常
- [ ] 账单管理页面正常
- [ ] AI助手页面正常
- [ ] 社区页面正常
- [ ] 健康消费页面正常
- [ ] 金融产品推荐页面正常

## 📊 访问地址

### 后端服务
- **API文档**: http://localhost:8000/docs
- **ReDoc文档**: http://localhost:8000/redoc
- **健康检查**: http://localhost:8000/api/v1/health

### 前端服务（需要启动前端）
- **主页**: http://localhost:3000
- **账单小助手**: http://localhost:3000/dashboard
- **账单管理**: http://localhost:3000/bills
- **消费分析**: http://localhost:3000/analysis
- **AI助手**: http://localhost:3000/ai-assistant
- **金融产品推荐**: http://localhost:3000/recommendations
- **社区**: http://localhost:3000/community
- **健康消费**: http://localhost:3000/health

## 🔐 测试账号

- **用户名**: user1 / user2 / user3
- **密码**: demo123

## ⚠️ 常见问题

### 问题1：服务器启动失败
**原因**：端口8000被占用

**解决方案**：
1. 查找占用端口的进程：`netstat -ano | findstr :8000`
2. 关闭占用端口的进程
3. 或修改端口（在 `src/config.py` 中修改 `PORT`）

### 问题2：API返回500错误
**原因**：代码修改后未重启服务器

**解决方案**：
1. 停止服务器（Ctrl+C）
2. 重新启动：`python run_server.py`
3. 等待几秒后重新测试

### 问题3：前端无法连接后端
**原因**：后端服务器未运行

**解决方案**：
1. 确认后端服务器正在运行
2. 访问 http://localhost:8000/docs 验证后端是否正常
3. 检查前端 `vite.config.js` 中的代理配置

### 问题4：测试脚本显示服务器未响应
**原因**：服务器未启动或启动中

**解决方案**：
1. 确保已运行 `python run_server.py`
2. 等待服务器完全启动（约10秒）
3. 访问 http://localhost:8000/docs 验证
4. 重新运行测试脚本

## 🎯 完整启动流程示例

### 终端1：后端服务
```bash
# 进入项目目录
cd C:\Users\lenovo\Documents\GitHub\-

# 启动后端服务器
python run_server.py
```
**保持此窗口运行**

### 终端2：运行测试
```bash
# 等待几秒让服务器启动
# 然后运行测试
python run_complete_test.py
```

### 终端3：前端服务（可选）
```bash
# 进入前端目录
cd frontend

# 启动前端开发服务器
npm run dev
```

## 📈 测试结果预期

### 成功情况
```
测试完成: 12/12 通过
✅ 所有API测试通过！系统运行正常。
```

### 需要重启服务器的情况
如果某些API测试失败（特别是金融产品推荐和社区帖子），可能是因为：
1. 服务器使用了旧代码
2. 需要重启服务器以使修复生效

**解决方案**：
1. 停止服务器（Ctrl+C）
2. 重新启动：`python run_server.py`
3. 等待10秒后重新测试

---

## 🎉 启动成功标志

当您看到以下内容时，说明系统已成功启动：

1. ✅ 后端服务器运行：访问 http://localhost:8000/docs 能看到API文档
2. ✅ 测试通过：运行 `python run_complete_test.py` 显示 `12/12 通过`
3. ✅ 前端可访问（如已启动）：访问 http://localhost:3000 能看到登录页面

---

**提示**：首次启动可能需要一些时间初始化数据库，请耐心等待。

